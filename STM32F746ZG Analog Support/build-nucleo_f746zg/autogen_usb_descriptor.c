#include <stdint.h>

#include "py/objtuple.h"
#include "shared-bindings/usb_hid/Device.h"
#include "build-nucleo_f746zg/genhdr/autogen_usb_descriptor.h"

// top : <class 'adafruit_usb_descriptor.standard.DeviceDescriptor'>
const uint8_t usb_desc_dev[] = {
0x12, 0x01, 0x00, 0x02, 0x00, 0x00, 0x00, 0x40, 0x9a, 0x23, 0x9e, 0x80, 0x00, 0x01, 0x02, 0x03, 0x01, 0x01, };
const uint8_t usb_desc_cfg[] = {
// Composite configuration : <class 'adafruit_usb_descriptor.standard.ConfigurationDescriptor'>
0x09, 0x02, 0x62, 0x00, 0x03, 0x01, 0x00, 0xa0, 0x32, // <adafruit_usb_descriptor.standard.ConfigurationDescriptor object at 0x1037938d0>
// CDC IAD : <class 'adafruit_usb_descriptor.standard.InterfaceAssociationDescriptor'>
0x08, 0x0b, 0x00, 0x02, 0x02, 0x02, 0x00, 0x00, // <adafruit_usb_descriptor.standard.InterfaceAssociationDescriptor object at 0x103793890>
// CDC comm : <class 'adafruit_usb_descriptor.standard.InterfaceDescriptor'>
0x09, 0x04, 0x00, 0x00, 0x01, 0x02, 0x02, 0x00, 0x04, // <adafruit_usb_descriptor.standard.InterfaceDescriptor object at 0x10378fd90>
0x05, 0x24, 0x00, 0x10, 0x01, // <adafruit_usb_descriptor.cdc.Header object at 0x10378ff50>
0x05, 0x24, 0x01, 0x01, 0x01, // <adafruit_usb_descriptor.cdc.CallManagement object at 0x10378fed0>
0x04, 0x24, 0x02, 0x02, // <adafruit_usb_descriptor.cdc.AbstractControlManagement object at 0x10378fe50>
0x05, 0x24, 0x06, 0x00, 0x01, // <adafruit_usb_descriptor.cdc.Union object at 0x10378fe90>
0x07, 0x05, 0x81, 0x03, 0x40, 0x00, 0x10, // <adafruit_usb_descriptor.standard.EndpointDescriptor object at 0x10378fe10>
// CDC data : <class 'adafruit_usb_descriptor.standard.InterfaceDescriptor'>
0x09, 0x04, 0x01, 0x00, 0x02, 0x0a, 0x00, 0x00, 0x05, // <adafruit_usb_descriptor.standard.InterfaceDescriptor object at 0x10378ffd0>
0x07, 0x05, 0x02, 0x02, 0x40, 0x00, 0x10, // <adafruit_usb_descriptor.standard.EndpointDescriptor object at 0x10378fd50>
0x07, 0x05, 0x82, 0x02, 0x40, 0x00, 0x10, // <adafruit_usb_descriptor.standard.EndpointDescriptor object at 0x10378fd10>
// MSC : <class 'adafruit_usb_descriptor.standard.InterfaceDescriptor'>
0x09, 0x04, 0x02, 0x00, 0x02, 0x08, 0x06, 0x50, 0x06, // <adafruit_usb_descriptor.standard.InterfaceDescriptor object at 0x103793150>
0x07, 0x05, 0x83, 0x02, 0x40, 0x00, 0x00, // <adafruit_usb_descriptor.standard.EndpointDescriptor object at 0x103793110>
0x07, 0x05, 0x03, 0x02, 0x40, 0x00, 0x00, // <adafruit_usb_descriptor.standard.EndpointDescriptor object at 0x1037932d0>
};
// "Ð‰" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t language_id[] = {
0x0304, 0x0409, 
};
// "SSSSSSSSSSSSSSSSSSSSSSSS" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
uint16_t usb_serial_number[] = {
0x0332, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 0x0053, 
};
// "STMicroelectronics" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor2[] = {
0x0326, 0x0053, 0x0054, 0x004d, 0x0069, 0x0063, 0x0072, 0x006f, 0x0065, 0x006c, 0x0065, 0x0063, 0x0074, 0x0072, 0x006f, 0x006e, 0x0069, 0x0063, 0x0073, 
};
// "Nucleo F746zg - CPy" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor3[] = {
0x0328, 0x004e, 0x0075, 0x0063, 0x006c, 0x0065, 0x006f, 0x0020, 0x0046, 0x0037, 0x0034, 0x0036, 0x007a, 0x0067, 0x0020, 0x002d, 0x0020, 0x0043, 0x0050, 0x0079, 
};
// "CircuitPython CDC control" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor4[] = {
0x0334, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0043, 0x0044, 0x0043, 0x0020, 0x0063, 0x006f, 0x006e, 0x0074, 0x0072, 0x006f, 0x006c, 
};
// "CircuitPython CDC data" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor5[] = {
0x032e, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0043, 0x0044, 0x0043, 0x0020, 0x0064, 0x0061, 0x0074, 0x0061, 
};
// "CircuitPython Mass Storage" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor6[] = {
0x0336, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x004d, 0x0061, 0x0073, 0x0073, 0x0020, 0x0053, 0x0074, 0x006f, 0x0072, 0x0061, 0x0067, 0x0065, 
};
// "CircuitPython HID" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor7[] = {
0x0324, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0048, 0x0049, 0x0044, 
};
// "CircuitPython usb_midi.ports[0]" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor8[] = {
0x0340, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0075, 0x0073, 0x0062, 0x005f, 0x006d, 0x0069, 0x0064, 0x0069, 0x002e, 0x0070, 0x006f, 0x0072, 0x0074, 0x0073, 0x005b, 0x0030, 0x005d, 
};
// "CircuitPython usb_midi.ports[1]" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor9[] = {
0x0340, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0075, 0x0073, 0x0062, 0x005f, 0x006d, 0x0069, 0x0064, 0x0069, 0x002e, 0x0070, 0x006f, 0x0072, 0x0074, 0x0073, 0x005b, 0x0031, 0x005d, 
};
// "CircuitPython MIDI" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor10[] = {
0x0326, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x004d, 0x0049, 0x0044, 0x0049, 
};
// "CircuitPython Audio" : <class 'adafruit_usb_descriptor.standard.StringDescriptor'>
const uint16_t string_descriptor11[] = {
0x0328, 0x0043, 0x0069, 0x0072, 0x0063, 0x0075, 0x0069, 0x0074, 0x0050, 0x0079, 0x0074, 0x0068, 0x006f, 0x006e, 0x0020, 0x0041, 0x0075, 0x0064, 0x0069, 0x006f, 
};
// array of pointer to string descriptors
uint16_t const * const string_desc_arr [] =
{
language_id,
usb_serial_number,
string_descriptor2,
string_descriptor3,
string_descriptor4,
string_descriptor5,
string_descriptor6,
string_descriptor7,
string_descriptor8,
string_descriptor9,
string_descriptor10,
string_descriptor11
};

const uint8_t hid_report_descriptor[195] = {
0x05, 0x01, 0x09, 0x06, 0xa1, 0x01, 0x85, 0x01, 0x05, 0x07, 0x19, 0xe0, 0x29, 0xe7, 0x15, 0x00, 0x25, 0x01, 0x75, 0x01, 0x95, 0x08, 0x81, 0x02, 0x81, 0x01, 0x19, 0x00, 0x29, 0xdd, 0x15, 0x00, 0x25, 0xdd, 0x75, 0x08, 0x95, 0x06, 0x81, 0x00, 0x05, 0x08, 0x19, 0x01, 0x29, 0x05, 0x15, 0x00, 0x25, 0x01, 0x75, 0x01, 0x95, 0x05, 0x91, 0x02, 0x95, 0x03, 0x91, 0x01, 0xc0, 0x05, 0x01, 0x09, 0x02, 0xa1, 0x01, 0x09, 0x01, 0xa1, 0x00, 0x85, 0x02, 0x05, 0x09, 0x19, 0x01, 0x29, 0x05, 0x15, 0x00, 0x25, 0x01, 0x95, 0x05, 0x75, 0x01, 0x81, 0x02, 0x95, 0x01, 0x75, 0x03, 0x81, 0x01, 0x05, 0x01, 0x09, 0x30, 0x09, 0x31, 0x15, 0x81, 0x25, 0x7f, 0x75, 0x08, 0x95, 0x02, 0x81, 0x06, 0x09, 0x38, 0x15, 0x81, 0x25, 0x7f, 0x75, 0x08, 0x95, 0x01, 0x81, 0x06, 0xc0, 0xc0, 0x05, 0x0c, 0x09, 0x01, 0xa1, 0x01, 0x85, 0x03, 0x75, 0x10, 0x95, 0x01, 0x15, 0x01, 0x26, 0x8c, 0x02, 0x19, 0x01, 0x2a, 0x8c, 0x02, 0x81, 0x00, 0xc0, 0x05, 0x01, 0x09, 0x05, 0xa1, 0x01, 0x85, 0x04, 0x05, 0x09, 0x19, 0x01, 0x29, 0x10, 0x15, 0x00, 0x25, 0x01, 0x75, 0x01, 0x95, 0x10, 0x81, 0x02, 0x05, 0x01, 0x15, 0x81, 0x25, 0x7f, 0x09, 0x30, 0x09, 0x31, 0x09, 0x32, 0x09, 0x35, 0x75, 0x08, 0x95, 0x04, 0x81, 0x02, 0xc0, };

static uint8_t keyboard_report_buffer[8];
static uint8_t mouse_report_buffer[4];
static uint8_t consumer_report_buffer[2];
static uint8_t gamepad_report_buffer[6];

usb_hid_device_obj_t usb_hid_devices[] = {
    {
        .base          = { .type = &usb_hid_device_type },
        .report_buffer = keyboard_report_buffer,
        .report_id     = 1,
        .report_length = 8,
        .usage_page    = 0x01,
        .usage         = 0x06,
    },
    {
        .base          = { .type = &usb_hid_device_type },
        .report_buffer = mouse_report_buffer,
        .report_id     = 2,
        .report_length = 4,
        .usage_page    = 0x01,
        .usage         = 0x02,
    },
    {
        .base          = { .type = &usb_hid_device_type },
        .report_buffer = consumer_report_buffer,
        .report_id     = 3,
        .report_length = 2,
        .usage_page    = 0x0c,
        .usage         = 0x01,
    },
    {
        .base          = { .type = &usb_hid_device_type },
        .report_buffer = gamepad_report_buffer,
        .report_id     = 4,
        .report_length = 6,
        .usage_page    = 0x01,
        .usage         = 0x05,
    },
};

mp_obj_tuple_t common_hal_usb_hid_devices = {
    .base = {
        .type = &mp_type_tuple,
    },
    .len = 4,
    .items = {
         (mp_obj_t) &usb_hid_devices[0],
         (mp_obj_t) &usb_hid_devices[1],
         (mp_obj_t) &usb_hid_devices[2],
         (mp_obj_t) &usb_hid_devices[3],
    },
};
